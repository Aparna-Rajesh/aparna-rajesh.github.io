<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Creative Embedded Systems Modules!</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <h2 class="collapsible" id="collapsible-pink">Module 1</h2>
    <div class="content">
        <div class="heading1">Demonstration & Installation</div>
        <p><iframe width="560" height="315" src="https://www.youtube.com/embed/vUEu3yvQ8Dk?si=DUx3UC6W2MGvBl1N" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe></p>
        <p><iframe width="560" height="315" src="https://www.youtube.com/embed/-QTiDZOsdoQ?si=seHdo7GK0vEvu97L" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe></p>

        <h3>Specialization for the Space</h3>
        <p>The bottom portion of the display was broken, disrupting the flow of the visual narrative. But I tried to embrace the imperfection as a metaphor for the fractured nature of the human experience.</p>
        <p>Incorporating the hanging structure into the metaphor, the piece can be interpreted as a symbol for navigating the currents of time and space. As the device twists and twirls under the air vent, it invites viewers to reflect on the fluidity of existence and the transient nature of our journey through life.</p>

        <h3>Creative Decisions</h3>
        <p>As students, we oscillate between moments of reassurance and moments of doubt, caught in a perpetual daily cycle of striving and questioning.</p>
        <p>Central to this project was the concept of a 24-second loop. The loop's structure serves as a microcosm of the temporal constraints and emotional fluctuations we endure throughout the day. 
            60% of the time is dedicated to plastering the words "It'll be okay" across the screen, representing a student's attempt at calming themselves. 
            But these messages are repeatedly interrupted (at random) by anxiety-riddled messages (selected at random) that ultimately take up 20% of the 24-second loop. 
            Only 10% of the loop is dedicated to respite (the ESP enters deep sleep during this time) from the constant ebb and flow of stress, underscoring the fleeting nature of solace.</p>
        <p>The intentional imbalance mirrors the internal struggles of many students who are navigating the tumultuous currents of academic and personal life. 
            There's a poignant risk embedded within the designâ€”an imbalance in energy expenditure that will ultimately cause the ESP to run out of battery before the display is taken down. 
            The disproportionate allocation of energy toward anxiety and attempts at reassurance serves as a metaphor for the delicate balance between emotional resilience and vulnerability and the risk of never finding balance. 
            It's a stark reminder of the fact that many of the resources at our disposal are finite, and as a result, it highlights the importance of mindful energy management.</p>
        <p>Color was an important consideration as well. In contrast to the vibrant colors used for the calming messages, the anxiety-inducing phrases are deliberately in black and white. 
            It's meant to reflect the starkness and clarity with which anxiety can sometimes manifest in our lives, devoid of the colorful nuances that characterize moments of comfort and reassurance.</p>
        <p> I also intentionally placed the anxious messages towards the bottom right corner of the display to serve as a visual metaphor for the creeping presence of anxiety, lurking at the periphery of our consciousness and gradually encroaching upon our thoughts and emotions.</p>

        <h3>Technical Issues Encountered</h3>
        <p>Configuring the TFT display and managing its backlight intensity required some experimentation. Synchronizing the display of messages with precise timing also took some testing and refinement.</p>

        <p>The most notable issue was getting the ESP to show up my Arduino IDE, which proved to be a significant roadblock in the initial stages of the project.</p>
        <p>After some digging, I stumbled upon a tutorial on <a href="https://www.youtube.com/watch?v=b8254--ibmM">YouTube</a>, which provided invaluable insights into resolving the issue.</p>
        <p>It's also crucial to have a good USBC connection, and it may help to have <a href="https://www.silabs.com/developers/usb-to-uart-bridge-vcp-drivers?tab=downloads">this driver</a> installed.</p>

        <div class="heading1">README</div>
        <p>Follow these instructions to create a similar generative art display using an ESP32 microcontroller and a TFT display that alternates between soothing messages and anxiety-inducing phrases, reflecting the ebb and flow of human emotion within a 24-second loop.</p>

        <h3>ESP Setup</h3>
        <ol>
            <li>Install the Arduino IDE from the official website.</li>
            <li>Install the ESP32 board support package in the Arduino IDE. Follow the instructions <a href="https://youtu.be/adLUgmCJKnM">here</a>.</li>
            <li>Install the TFT_eSPI library by Bodmer. Go to Sketch > Include Library > Manage Libraries..., search for "TFT_eSPI" and install it.</li>
            <li>Connect your ESP32 board to your computer via USB.</li>
            <li>Open <a href="https://github.com/Aparna-Rajesh/CES-Modules/blob/main/Module%201/mod1_01.ino">the code</a> provided in the Arduino IDE.</li>
            <li>Upload the code to your ESP32 board.</li>
        </ol>
        <p>After uploading the code, the generative art display will start running immediately. The display alternates between soothing messages, displayed in random colors, and anxiety-inducing phrases, displayed in black and white towards the bottom right corner of the screen.</p>
        <p>The display operates within a 24-second loop, with 60% of the time dedicated to soothing messages, 20% to anxiety-inducing phrases, and 10% to deep sleep mode to conserve power.</p>

        <h3>Building the Display</h3>
        <ol>
            <li>Use heat shrink to build a battery setup (with a 130mAh battery) that will be compatible with the board. Remember that black wires should never be connected with red wires!</li>
            <img src="battery.jpeg" 
                width="300" 
                height=auto />
            <li>Connect the battery to the board.</li>
            <img src="connectedbattery.jpeg" 
                width="300" 
                height=auto />
            <li>Design an envelope with a rectangular hole in the center for the ESP display. Write calming messages in different colors horizontally across the envelope; in smaller letters, add anxious messages in black letters vertically towards the bottom. </li>
            <img src="envelope.JPG" 
                width="300" 
                height=auto />
            <li>Poke a small hole in a popsicle stick and string a thread through the hole. Tie one end of the string to the popsicle stick. Wrap the string around the width of the popsicle stick and tie it again. The majority of the string should hang from the popsicle stick.</li>
            <img src="string.JPG" 
                width="300" 
                height=auto />
            <li>Poke a small hole in the envelope and pull the string through the hole and tie it. The envelope should be hanging from the popsicle stick.</li>
            <img src="strungenvelope.jpeg" 
                width="300" 
                height=auto />
            <li>Use tape to fasten the ESP (the display should poke out a bit through the rectangular hole in the paper) and the battery inside the envelope and seal it shut.</li>
            <img src="envelopewithesp.jpeg" 
            width="300" 
            height=auto />
            <li>Place the popsicle stick between beams underneath the air vent on the 5th floor lounge in Milstein.</li>
            <img src="hangingproj.jpeg" 
            width="300" 
            height=auto />
        </ol>
        
        <h3>Troubleshooting</h3>
        <p>If you encounter any issues during installation or usage, check out the following resrouces:
            <ul>
                <li>For troubleshooting ESP32 board recognition in Arduino IDE, watch <a href="https://www.youtube.com/watch?v=b8254--ibmM">this tutorial</a>.</li>
                <li>If you're still having trouble, check your USB connection, and try downloading the <a href="https://www.silabs.com/developers/usb-to-uart-bridge-vcp-drivers?tab=downloads">device driver</a> for your OS and restart your machine.</li>
            </ul>
        </p>
    </div>

    <h2 class="collapsible" id="collapsible-yellow">Module 2</h2>
    <div class="content">
        <div class="heading1">The Final Product</div>
        <br>
        <video width="170" height="300" controls>
            <source src="mod2_media/IMG_1288.mov" type="video/mp4">
          Your browser does not support the video tag.
        </video>
        <video width="270" height="300" controls>
            <source src="mod2_media/IMG_1291.mov" type="video/mp4">
          Your browser does not support the video tag.
        </video>
        <video width="180" height="300" controls>
            <source src="mod2_media/IMG_1319.mov" type="video/mp4">
          Your browser does not support the video tag.
          </video>

        <h3>High-level description</h3>
        This interactive installation features an ESP32 TTGO T-display, which acts as the brain of the operation, connected to a pushbutton, a joystick, and a potentiometer. 
        These components are housed in a cardboard enclosure and are powered by a wired connection, ensuring continuous operation without the need for batteries. 
        The button, joystick, and potentiometer allow users to interact with the device, with each input influencing the visual output displayed on a laptop. 
        The ESP32 reads the state of these inputs and sends the data over a WiFi connection to a laptop, where custom software visualizes this data by dynamically 
        generating a lava lamp display on the screen. <br> <br>
        
        From a technical standpoint, I developed an ESP32 program that continuously collects sensor data from the hardware inputs. 
        This data is then packaged and transmitted via a WiFi connection to the laptop. On the software side, a Python script running on the laptop uses this data to adjust the colors, 
        patterns, and animation speed of the lava lamp visualization in real-time, creating an engaging multimedia experience. 
        The button rotates through color schemes (5 of which are pre-determined; the final one is randomized) for the graphic, the potentiometer value determines the brightness of the graphic, and the joystick determines the rate at which the graphic is updateded. 
        The integration of hardware and software allows for an interactive installation that responds immediately to user interactions, 
        offering a blend of technology and art. <br> <br>
        
        The installation creates visual outputs that are not manually pre-determined but instead are dynamically generated based on real-time interactions with the viewer. 
        Each interactionâ€”-adjusting the potentiometer, moving the joystick, or pressing the buttonâ€”-alters the algorithmic behavior that governs the visualization of the lava lamp, 
        resulting in unique and ever-changing artistic patterns. This method ensures that the art displayed is constantly evolving, reflecting the immediate input from its viewers. 
        The unpredictability and variability of the output, driven by the algorithm's response to human interaction, embody the core principles of generative art, 
        making the installation not just a piece of technology but a living artwork that creates new experiences with each interaction.

        <h3>Creative Decisions</h3>
        <p>the choice of colors plays a significant role in the visual and interactive experience. 
            The palette includes vibrant and diverse huesâ€”deep blues and purples for a touch of mystery, bright yellows and reds to evoke warmth and energy, and calming greens and cyans. 
            These colors shift and blend dynamically in response to user interactions through the joystick and potentiometer, allowing participants to directly influence the visual display. 
            This setup not only makes the installation visually appealing but also engages users by giving them control over the color transformations, enhancing the interactivity of the piece. 
            The use of such a colorful array underscores the playful and engaging nature of the installation, inviting users to explore the impact of their actions on the evolving art piece.
        </p>

        <div class="heading1">README</div>
        <h3>ESP Setup</h3>
        <img src="mod2_media/finalwiring.png" 
            width="300" 
            height=auto />
        <ol>
            <li>Start by placing the ESP on your breadboard, ensuring that the header pins are already soldered to it.</li>
            <li>Connect a 3V pin from the ESP to one of the positive (+) strips on your breadboard.</li>
            <li>Similarly, connect a Ground (GND) pin from the ESP to one of the negative (-) strips on your breadboard.</li>
            <li>Insert your potentiometer into the breadboard.</li>
            <li>Connect the left pin of the potentiometer to the negative (-) strip, the middle pin to pin 36 on the ESP, and the right pin to the positive (+) strip.</li>
            <li>Place your pushbutton on the breadboard.</li>
            <li>Connect one of the pushbutton's top pins (either left or right) to the positive (+) strip and one of the bottom pins to pin 15 on the ESP.</li>
            <li>Insert your joystick into the breadboard.</li>
            <li>For the joystick wiring, connect the left-most pin to the negative (-) strip, the second pin from the left to the positive (+) strip, the VRX pin to pin 33 on the ESP, the VRY pin to pin 39 on the ESP, and the SW pin to pin 38 on the ESP.</li>
            <li>Finally, plug your ESP to your computer, upload <a href="https://github.com/Aparna-Rajesh/CES-Modules/blob/main/Module%201/mod1_01.ino">the provided code</a> to the microcontroller, and once it is running, execute <a href="https://github.com/Aparna-Rajesh/CES-Modules/blob/main/Module%201/mod1_01.ino">this</a> code on your laptop.</li>
        </ol>

        <h3>Enclosure</h3>
        <ol>
            <li>Begin with a cardboard box.</li>
            <img src="mod2_media/step1.png" 
            width="300" 
            height=auto />
            <br>
            <br>

            <li>Trim the cardboard so that it leaves a small margin around the breadboard.</li>
            <img src="mod2_media/step2.png" 
            width="300" 
            height=auto />
            <br>
            <br>

            <li>Create a flap next to the potentiometer and joystick, and cut openings in the flap to allow easy access to these controls.</li>
            <img src="mod2_media/step3_01.png" 
            width="150" 
            height=auto />
            <img src="mod2_media/step3_02.png" 
            width="150" 
            height=auto />
            <img src="mod2_media/step3_03.png" 
            width="150" 
            height=auto />
            <br>
            <br>

            <li>Construct a frame around the breadboard using leftover cardboard pieces, and form a partial cover over most of the wires to keep them contained within the enclosure, ensuring all components remain accessible.</li>
            <img src="mod2_media/step4.png" 
            width="300" 
            height=auto />

        </ol>

        <h3>Troubleshooting/Technical Issues Encountered</h3>
        <ol>
            <li><strong>Blocking:</strong> The program involves continuous network communication to receive data from the ESP32, and a GUI that displays changing visual data based on the received inputs. Both processes are continuous and potentially long-running, 
                so running these tasks on the main thread would block the GUI, making it unresponsive, or hinder timely data processing from the network because Python's tkinter module is not inherently designed to handle intensive computational tasks or blocking operations within its main event loop.
                <br><strong>Solution:</strong> I started using threads. The udp_communication function, which handles continuous network communication, is now in a separate thread to ensure it runs independently of the GUI. This prevents the blocking network operations from interfering with the GUI responsiveness.
                Meanwhile, the main thread is dedicated to updating the lava lamp. 
            </li> <br>

            <li><strong>Joystick pins:</strong> While testing the joystick alone, I could use pins 26, 25, and 33 to transmit data. But when I tested the joystick with code that involved the display, potentiometer, pushbutton, and the UDP connection, it would always read 0 for the x and y components of the joystick readings. 
                <br><strong>Solution:</strong> Change the pins. I started using pins 33 and 32 for the X and Y values.</li> <br>
            
            <li><strong>Ground and Power:</strong> When different components (joystick and potentiometer) were connected to different ground lines and different voltage supplies (5V for the joystick and 3.3V for the potentiometer) on the same ESP32, using the joystick affected the potentiometer's output. 
                This could have been the result of ground loops and voltage offsets that were the product of the disparate ground connections and voltage levels.
                <br><strong>Solution:</strong> Connect all the components to a common ground. This setup helps eliminate ground loop issues and ensures a uniform reference point for all voltage levels across the circuit, thereby stabilizing the sensor readings and preventing interference between components operating at different voltage levels.
            </li> <br>
        </ol>
        <div class="heading1">References</div>
        <ol>
            <li> Lava lamp <a href="https://github.com/dafarry/python-lava-lamp-effect/blob/main/python-lavalamp-create-vid.py">starter code</a></li>
            <li> Pushbutton <a href="https://diotlabs.daraghbyrne.me/docs/getting-inputs/buttons/">wiring</a></li>
        </ol>
    </div>
</body>

<script>
    document.addEventListener("DOMContentLoaded", function() {
    var collapsibles = document.querySelectorAll(".collapsible");
    collapsibles.forEach(function(coll) {
        var content = coll.nextElementSibling; // This assumes that the content is always the next sibling element
        coll.addEventListener("click", function() {
            // Toggle visibility
            if (content.style.display === "block") {
                content.style.display = "none";
            } else {
                content.style.display = "block";
            }
        });
    });
});

</script>

</html>
